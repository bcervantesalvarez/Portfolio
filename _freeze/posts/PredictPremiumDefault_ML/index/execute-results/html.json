{
  "hash": "1ccd06882f5ee2b345905ebce8b1ca54",
  "result": {
    "markdown": "---\ntitle: \"Predicting Insurance Premium Default {work in progress}\"\nauthor: \"Brian Cervantes Alvarez\"\ndate: \"1-01-2020\"\nformat:\n  html:\n    toc: true\n    toc-location: right\n    html-math-method: katex\n    page-layout: full\nexecute: \n  warning: false\n  message: false\ncategories: [R, informative, interactive, plotly]\n---\n\n\n![](default.jpeg)\n\n## Setup\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(caret)\nlibrary(rpart)\nlibrary(tidytext)\nlibrary(SnowballC)\ntest <- read_csv(\"test.csv\")\ntrain <- read_csv(\"train.csv\")\n```\n:::\n\n\n## Wrangling\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#head(train)\n#head(test)\n\nds <- train %>%\n  mutate(age_in_years = round(age_in_days/365, 1),\n         income_class = factor(case_when(Income > 24000 & Income <= 32000 ~ \"24K-32K\",\n                                  Income > 32000 & Income <= 45000 ~ \"32K-45K\",\n                                  Income > 45000 & Income <= 60000 ~ \"45K-60K\",\n                                  Income > 60000 & Income <= 85000 ~ \"60K-85K\",\n                                  Income > 85000 & Income <= 110000 ~ \"85K-110K\",\n                                  Income > 110000 & Income <= 200000 ~ \"110K-200K\",\n                                  Income > 200000 & Income <= 400000 ~ \"200K-400K\",\n                                  Income > 400000 ~ \">400K\"), \n                               levels = c(\"24K-32K\",\n                                          \"32K-45K\",\n                                          \"45K-60K\",\n                                          \"60K-85K\",\n                                          \"85K-110K\",\n                                          \"110K-200K\",\n                                          \"200K-400K\",\n                                          \">400K\"))) %>%\n  select(-application_underwriting_score, -sourcing_channel, - age_in_days)\n```\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}